{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/create-room/create-room.component.ts","./src/app/create-room/create-room.component.html","./src/app/enter-room/enter-room.component.ts","./src/app/enter-room/enter-room.component.html","./src/app/room/room.component.ts","./src/app/room/room.component.html","./src/app/socketio.service.ts","./src/app/twilio.service.ts","./src/environments/environment.ts","./src/main.ts","ws (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACmB;AACpB;AACiB;;;AACvE,MAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,SAAS,EAAE,MAAM,EAAE;IACzD,EAAE,IAAI,EAAE,WAAW,EAAE,SAAS,EAAE,mFAAkB,EAAE;IACpD,EAAE,IAAI,EAAE,YAAY,EAAE,SAAS,EAAE,sFAAmB,EAAE;IACtD,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,kEAAa,EAAE;CAC3C,CAAC;AAMK,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACfD;AAAA;AAAA;AAAA;AAA0C;;;AAOnC,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,YAAY,CAAC;KACtB;;wEAFY,YAAY;4FAAZ,YAAY;QCPzB,2EAA+B;;6FDOlB,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,qBAAqB,CAAC;aACnC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AACI;AACW;AACA;AACT;AAC2B;AACpB;AACiB;;AAkBhE,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YANJ;YACP,uEAAa;YACb,qEAAgB;YAChB,oEAAgB;YAChB,0DAAW;SACZ;mIAIU,SAAS,mBAdlB,2DAAY;QACZ,sFAAmB;QACnB,kEAAa;QACb,mFAAkB,aAGlB,uEAAa;QACb,qEAAgB;QAChB,oEAAgB;QAChB,0DAAW;6FAKF,SAAS;cAhBrB,sDAAQ;eAAC;gBACR,YAAY,EAAE;oBACZ,2DAAY;oBACZ,sFAAmB;oBACnB,kEAAa;oBACb,mFAAkB;iBACnB;gBACD,OAAO,EAAE;oBACP,uEAAa;oBACb,qEAAgB;oBAChB,oEAAgB;oBAChB,0DAAW;iBACZ;gBACD,SAAS,EAAE,EAAE;gBACb,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;ACzBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;;;;;;;;;ICGrE,yEACE;IAAA,sEACE;IAAA,0EAAwB;IAAA,uDAAmB;IAAA,4DAAO;IAClD,4EACE;IAD8C,iWAA6B;IAC3E,0EACE;IAAA,kEACF;IAAA,4DAAO;IACT,4DAAS;IACX,4DAAM;IACR,4DAAM;;;IAPsB,0DAAmB;IAAnB,iFAAmB;;;;IAY/C,yEACE;IAAA,wEAA2B;IAAA,uDAAkC;IAAA,4DAAK;IAClE,6EACuB;IAD+B,+WAAqC;IACpE,iEAAM;IAAA,4DAAS;IACtC,6EAC+E;IAA7E,qYAAuD;IAAsB,iEAAM;IAAA,4DAAS;IAChG,4DAAM;;;IALuB,0DAAkC;IAAlC,2GAAkC;;ADL5D,MAAM,mBAAmB;IAW9B,YACU,aAA4B,EAC5B,MAAc,EACd,aAA8B,EAC9B,KAAqB;QAHrB,kBAAa,GAAb,aAAa,CAAe;QAC5B,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAiB;QAC9B,UAAK,GAAL,KAAK,CAAgB;QAV/B,qBAAgB,GAAU,EAAE,CAAC;QAC7B,gBAAW,GAAU,EAAE,CAAC;QAWtB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC5C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;YACxD,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACnD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;YAC/B,IAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC;YACxE,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;YACxD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,QAAa,EAAE,EAAE;YAC9D,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;YAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,GAAG,CAAC,OAAO;QACT,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAED,UAAU;QACR,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,KAAK,IAAI,EAAE;YACrE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;SACnC;IACH,CAAC;IACD,UAAU,CAAC,MAAM;QACf,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IACvE,CAAC;IAED,IAAI,CAAC,QAAQ,EAAE,UAAU;QACvB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxD,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC;QAChE,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,SAAS,CACxD,CAAC,CAAC,EAAE,EAAE;YACJ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;YAC9B,YAAY,CAAC,OAAO,CAClB,OAAO,EACP,IAAI,CAAC,SAAS,CAAC;gBACb,KAAK,EAAE,IAAI,CAAC,WAAW;gBACvB,UAAU,EAAE,IAAI;aACjB,CAAC,CACH,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAE;gBAC9B,WAAW,EAAE;oBACX,QAAQ,EAAE,QAAQ;oBAClB,MAAM,EAAE,UAAU;oBAClB,KAAK,EAAE,IAAI,CAAC,QAAQ;iBACrB;aACF,CAAC,CAAC;QACL,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAC3C,CAAC;IACJ,CAAC;IAED,OAAO,CAAC,UAAU;QAChB,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,CAAC;QAChE,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,OAAO,GAAG,+BAA+B,CAAC;YAC/C,OAAO;SACR;QAED,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CACjE,CAAC,CAAC,EAAE,EAAE;YACJ,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;YAC9B,YAAY,CAAC,OAAO,CAClB,OAAO,EACP,IAAI,CAAC,SAAS,CAAC;gBACb,KAAK,EAAE,IAAI,CAAC,WAAW;gBACvB,UAAU,EAAE,IAAI;aACjB,CAAC,CACH,CAAC;YACF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,EAAE;gBAC9B,WAAW,EAAE;oBACX,QAAQ,EAAE,IAAI,CAAC,QAAQ;oBACvB,KAAK,EAAE,IAAI,CAAC,QAAQ;oBACpB,MAAM,EAAE,UAAU;iBACnB;aACF,CAAC,CAAC;QACL,CAAC,EACD,CAAC,KAAK,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAC3C,CAAC;IACJ,CAAC;IACD,MAAM,CAAC,YAAY;QACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CACxC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,YAAY,CACnC,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAChC,CAAC;;sFA5HU,mBAAmB;mGAAnB,mBAAmB;;;;;;QCbhC,yEACE;QAAA,4EACE;QAAA,wEAAuD;QAAA,uEAAY;QAAA,4DAAK;QACxE,+GACE;QASJ,4DAAM;QAEN,yEACE;QAAA,wEAAuD;QAAA,sEAAW;QAAA,4DAAK;QACvE,+GACE;QAMJ,4DAAM;QACR,4DAAM;;QAtBG,0DAAqC;QAArC,yFAAqC;QAcrC,0DAAsC;QAAtC,oFAAsC;;6FDJlC,mBAAmB;cAR/B,uDAAS;eAAC;gBACT,QAAQ,EAAE,iBAAiB;gBAC3B,WAAW,EAAE,8BAA8B;gBAC3C,SAAS,EAAE;oBACT,6BAA6B;oBAC7B,2CAA2C;iBAC5C;aACF;sUAU6C,WAAW;kBAAtD,uDAAS;mBAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;;;;;;;;;;;;;AEtB5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;;;;;AAW3C,MAAM,kBAAkB;IAE7B,YAAoB,MAAc,EAAU,aAA8B;QAAtD,WAAM,GAAN,MAAM,CAAQ;QAAU,kBAAa,GAAb,aAAa,CAAiB;IAAG,CAAC;IAE9E,QAAQ,KAAU,CAAC;IACnB,KAAK;QACH,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACzD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,EAAE;YACpC,WAAW,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE;SACzC,CAAC,CAAC;IACL,CAAC;;oFAVU,kBAAkB;kGAAlB,kBAAkB;QCX/B,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,yEACE;QAAA,uEAAsB;QAAA,qEAAU;QAAA,4DAAI;QACpC,uEAAyB;QAAA,4EAAiB;QAAA,4DAAI;QAChD,4DAAM;QACR,4DAAM;QACN,yEACE;QAAA,yEACE;QAAA,0EACE;QAAA,4EAMF;QALI,yLAAsB;QADxB,4DAMF;QAAA,4DAAM;QACR,4DAAM;QACN,8EAAuD;QAAlB,2IAAS,WAAO,IAAC;QAAC,iEAAK;QAAA,4DAAS;QACvE,4DAAM;QACR,4DAAM;QACR,4DAAM;;QAVM,2DAAsB;QAAtB,iFAAsB;;6FDDrB,kBAAkB;cAR9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,gBAAgB;gBAC1B,WAAW,EAAE,6BAA6B;gBAC1C,SAAS,EAAE;oBACT,4BAA4B;oBAC5B,2CAA2C;iBAC5C;aACF;;;;;;;;;;;;;;AEVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyE;;;;;;;AASlE,MAAM,aAAa;IAQxB,YACU,aAA4B,EAC5B,KAAqB,EACrB,MAAc,EACd,MAAuB;QAHvB,kBAAa,GAAb,aAAa,CAAe;QAC5B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAiB;QAE/B,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YAC1C,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;YACnC,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;YACjC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC;QAC7B,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC5C,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QAChD,IAAI,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAClD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE;YACjD,IAAI,EAAE,IAAI,CAAC,QAAQ;YACnB,KAAK,EAAE,IAAI;YACX,KAAK,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;SACtB,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,KAAK,IAAI,EAAE;YACrE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YACxC,IAAI,CAAC,aAAa,CAAC,OAAO,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;SACxC;IACH,CAAC;;0EA5CU,aAAa;6FAAb,aAAa;;;;;;;;QCT1B,4EACE;QAAA,oEAAG;QAAA,uDAAa;QAAA,4DAAI;QACtB,4DAAM;QAEN,4EACE;QAAA,oEAAG;QAAA,uDAAc;QAAA,4DAAI;QACvB,4DAAM;QACN,sEACE;QAAA,4EAA8C;QAAvB,qIAAS,gBAAY,IAAC;QAAC,sEAAU;QAAA,4DAAS;QACnE,4DAAM;;QARD,0DAAa;QAAb,8EAAa;QAIb,0DAAc;QAAd,+EAAc;;6FDIN,aAAa;cALzB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,uBAAuB;gBACpC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;sUAE4C,UAAU;kBAApD,uDAAS;mBAAC,YAAY,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;YACG,WAAW;kBAAtD,uDAAS;mBAAC,aAAa,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;;;;;;;;;;;;;;AEX5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuD;AAChB;AACmB;AACxB;;AAI3B,MAAM,eAAe;IAG1B,gBAAe,CAAC;IAChB,sBAAsB,CAAC,QAAgB;QACrC,IAAI,CAAC,MAAM,GAAG,6CAAE,CAAC,qEAAW,CAAC,eAAe,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,GAAG,EAAE;YAC7B,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACpD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IACzC,CAAC;IAED,WAAW,CAAC,EAAE,EAAE,QAAQ,EAAE,QAAQ;QAChC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE;YAC9B,EAAE,EAAE,EAAE;YACN,QAAQ,EAAE,QAAQ;YAClB,QAAQ,EAAE,QAAQ;SACnB,CAAC,CAAC;IACL,CAAC;IAED,cAAc;QACZ,OAAO,+CAAU,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,OAAO,EAAE,EAAE;gBAC3C,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACzB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAA8C;IAE9C,QAAQ;QACN,OAAO,+CAAU,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,EAAE,EAAE;gBACpC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW,CAAC,MAAM,EAAE,IAAI;QACtB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,QAAQ;QACN,OAAO,+CAAU,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,WAAW,EAAE,EAAE;gBAC9C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,UAAU;QACR,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACjC,CAAC;;8EApDU,eAAe;kGAAf,eAAe,WAAf,eAAe,mBAFd,MAAM;6FAEP,eAAe;cAH3B,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKuB;AAEgB;AACA;;;;AAOhC,MAAM,aAAa;IASxB,YACU,IAAgB,EAChB,MAAc,EACd,eAAiC;QAFjC,SAAI,GAAJ,IAAI,CAAY;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,oBAAe,GAAf,eAAe,CAAkB;QAR3C,eAAU,GAAG,IAAI,oDAAe,CAAC,EAAE,CAAC,CAAC;QAErC,eAAU,GAAG,IAAI,CAAC;QAQhB,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED,QAAQ,CAAC,QAAQ,EAAE,QAAQ;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,QAAQ,aAAa,QAAQ,EAAE,CAAC,CAAC;IAC3E,CAAC;IAED,IAAI;QACF,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,UAAU;YACpE,UAAU,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC1B,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,UAAU;YACpE,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACzB,CAAC;IACD,aAAa,CAAC,WAAmB,EAAE,OAAO;QACxC,4DAAO,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,IAAI,CAChC,CAAC,IAAI,EAAE,EAAE;YACP,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;gBACxC,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;aACxB;YACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC;YAC1C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;gBACxC,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,CAAC;YAC5C,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,EAAE,CAAC,yBAAyB,EAAE,CAAC,WAAW,EAAE,EAAE;gBACjD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YACjC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,EAAE,CAAC,sBAAsB,EAAE,CAAC,WAAW,EAAE,EAAE;gBAC9C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,YAAY,CAAC;gBAC1C,IAAI,CAAC,uBAAuB,CAAC,WAAW,CAAC,CAAC;gBAC1C,WAAW,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,KAAK,EAAE,EAAE;oBACzC,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC/B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC,GAAG,CAAC;oBAClC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBACpD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;oBACzD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;gBACrE,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YACH,yDAAyD;YACzD,IAAI,CAAC,EAAE,CAAC,gBAAgB,EAAE,CAAC,KAAK,EAAE,WAAW,EAAE,EAAE;gBAC/C,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;YACH,8DAA8D;YAC9D,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC,KAAK,EAAE,WAAW,EAAE,EAAE;gBAC7C,IAAI,CAAC,YAAY,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,IAAI,EAAE,EAAE;gBACjC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;oBAC7C,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;oBACnB,MAAM,gBAAgB,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;oBAC9C,gBAAgB,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;oBACxD,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBAClD,MAAM,UAAU,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;wBACpC,UAAU,CAAC,IAAI,EAAE,CAAC,CAAC,WAAW;wBAC9B,UAAU,CAAC,MAAM,EAAE,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;wBAC3D,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;oBACnD,CAAC,CAAC,CAAC;oBACH,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;oBAC7C,OAAO,OAAO,CAAC,UAAU,EAAE;wBACzB,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;qBACzC;oBACD,IAAI,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC;oBACjD,OAAO,YAAY,CAAC,UAAU,EAAE;wBAC9B,YAAY,CAAC,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;qBACnD;oBACD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;YACR,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,CACF,CAAC;IACJ,CAAC;IACD,uBAAuB,CAAC,WAAW;QACjC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE;YAClC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC;IACD,cAAc,CAAC,WAAW;QACxB,IAAI,WAAW,CAAC,YAAY;YAAE,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACnE,IAAI,CAAC,WAAW,CAAC,YAAY;YAC3B,WAAW,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,EAAE;gBACrC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IACD,YAAY,CAAC,MAAM;QACjB,MAAM,OAAO,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;QACzD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;IACrE,CAAC;IACD,eAAe;QACb,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YAChE,MAAM,OAAO,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;YAC3C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC;YAC9C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;YAClD,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC;IACD,YAAY,CAAC,MAAM;QACjB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YAC9B,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;YAC7C,OAAO,OAAO,CAAC,UAAU,EAAE;gBACzB,OAAO,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;;0EAjIU,aAAa;gGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;6FAEP,aAAa;cAHzB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACdD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,eAAe,EAAE,oCAAoC;CACtD,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;AChBnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACXpC,e","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { CreateRoomComponent } from './create-room/create-room.component';\nimport { RoomComponent } from './room/room.component';\nimport { EnterRoomComponent } from './enter-room/enter-room.component';\nconst routes: Routes = [\n  { path: '', redirectTo: '/enterroom', pathMatch: 'full' },\n  { path: 'enterroom', component: EnterRoomComponent },\n  { path: 'createroom', component: CreateRoomComponent },\n  { path: 'room', component: RoomComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'video-chat';\n}\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CreateRoomComponent } from './create-room/create-room.component';\nimport { RoomComponent } from './room/room.component';\nimport { EnterRoomComponent } from './enter-room/enter-room.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CreateRoomComponent,\n    RoomComponent,\n    EnterRoomComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    AppRoutingModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { TwilioService } from '../twilio.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SocketioService } from '../socketio.service';\n\n@Component({\n  selector: 'app-create-room',\n  templateUrl: './create-room.component.html',\n  styleUrls: [\n    './create-room.component.css',\n    '../../../node_modules/bulma/css/bulma.css',\n  ],\n})\nexport class CreateRoomComponent implements OnInit {\n  message: string;\n  accessToken: string;\n  roomName: string;\n  username: string;\n  onlineUsersArray: any[] = [];\n  invitations: any[] = [];\n  sessionId: string;\n  name: string;\n  @ViewChild('onlineUsers', { static: true }) onlineUsers: ElementRef;\n\n  constructor(\n    private twilioService: TwilioService,\n    private router: Router,\n    private socketService: SocketioService,\n    private route: ActivatedRoute\n  ) {\n    this.route.queryParams.subscribe((params) => {\n      this.username = params['username'];\n      this.name = params['username'];\n    });\n    this.twilioService.msgSubject.subscribe((r) => {\n      this.message = r;\n    });\n  }\n\n  ngOnInit() {\n    this.socketService.getUsers().subscribe((response: any) => {\n      this.sessionId = localStorage.getItem('sessionId');\n      this.roomName = this.sessionId;\n      this.onlineUsersArray = response.filter((e) => e.id !== this.sessionId);\n      console.log('users array', this.onlineUsersArray);\n    });\n\n    this.socketService.joinRoom().subscribe((response: any) => {\n      this.connect(response);\n    });\n\n    this.socketService.recieveMessage().subscribe((response: any) => {\n      console.log('response', response);\n      this.invitations.push(JSON.parse(response));\n    });\n  }\n\n  log(message) {\n    this.message = message;\n  }\n\n  disconnect() {\n    if (this.twilioService.roomObj && this.twilioService.roomObj !== null) {\n      this.twilioService.roomObj.disconnect();\n      this.twilioService.roomObj = null;\n    }\n  }\n  sendInvite(userId) {\n    console.log('userId :', userId);\n    this.socketService.sendMessage(userId, this.roomName, this.username);\n  }\n\n  join(roomName, remoteuser): void {\n    console.log(roomName);\n    this.socketService.roomConnect(roomName, this.username);\n    let storage = JSON.parse(localStorage.getItem('token') || '{}');\n    let date = Date.now();\n    if (!roomName) {\n      return;\n    }\n    this.twilioService.getToken(this.name, roomName).subscribe(\n      (d) => {\n        this.accessToken = d['token'];\n        localStorage.setItem(\n          'token',\n          JSON.stringify({\n            token: this.accessToken,\n            created_at: date,\n          })\n        );\n        this.router.navigate(['/room'], {\n          queryParams: {\n            roomName: roomName,\n            remote: remoteuser,\n            local: this.username,\n          },\n        });\n      },\n      (error) => this.log(JSON.stringify(error))\n    );\n  }\n\n  connect(remoteName): void {\n    let storage = JSON.parse(localStorage.getItem('token') || '{}');\n    let date = Date.now();\n    if (!this.roomName) {\n      console.log('in if');\n      this.message = 'enter username and room name.';\n      return;\n    }\n\n    this.twilioService.getToken(this.username, this.roomName).subscribe(\n      (d) => {\n        this.accessToken = d['token'];\n        localStorage.setItem(\n          'token',\n          JSON.stringify({\n            token: this.accessToken,\n            created_at: date,\n          })\n        );\n        this.router.navigate(['/room'], {\n          queryParams: {\n            roomName: this.roomName,\n            local: this.username,\n            remote: remoteName,\n          },\n        });\n      },\n      (error) => this.log(JSON.stringify(error))\n    );\n  }\n  reject(invitationId) {\n    this.invitations = this.invitations.filter(\n      (e) => e.roomName !== invitationId\n    );\n    console.log(this.invitations);\n  }\n}\n","<div id=\"video-container\">\n  <div #onlineuUsers class=\"width-33\">\n    <h3 class=\"is-size-3 mb-2\" style=\"text-align: center;\">Online Users</h3>\n    <div *ngFor=\"let user of onlineUsersArray\" class=\"card px-3 py-3 width-80\">\n      <div>\n        <span class=\"is-size-5\">{{ user.username }}</span>\n        <button class=\"button is-small is-rounded ml-5\" (click)=\"sendInvite(user.id)\">\n          <span class=\"material-icons\">\n            phone\n          </span>\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"width-33\">\n    <h3 class=\"is-size-3 mb-2\" style=\"text-align: center;\">Invitations</h3>\n    <div *ngFor=\"let invitation of invitations\" class='card px-3 py-3 width-80'>\n      <h1 class=\"is-size-5 mb-3\">{{invitation.username}} calling...</h1>\n      <button class=\"button is-small has-background-danger\" (click)='reject(invitation.roomName)'\n        style=\"border:none;\">Reject</button>\n      <button class=\"button is-small has-background-success ml-3\"\n        (click)='join(invitation.roomName,invitation.username)' style=\"border:none;\">Accept</button>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { SocketioService } from '../socketio.service';\n@Component({\n  selector: 'app-enter-room',\n  templateUrl: './enter-room.component.html',\n  styleUrls: [\n    './enter-room.component.css',\n    '../../../node_modules/bulma/css/bulma.css',\n  ],\n})\nexport class EnterRoomComponent implements OnInit {\n  username: string;\n  constructor(private router: Router, private socketService: SocketioService) {}\n\n  ngOnInit(): void {}\n  enter(): void {\n    this.socketService.setupSocketConnectionn(this.username);\n    this.router.navigate(['/createroom'], {\n      queryParams: { username: this.username },\n    });\n  }\n}\n","<div class=\"task-container columns is-multiline\">\n  <div class=\"card column is-half center\">\n    <div class=\"card-header-title is-centered has-text-centered\">\n      <div class=\"media-content is-centered\">\n        <p class=\"title is-4\">Video Chat</p>\n        <p class=\"subtitle is-6\">by Dharmil Parekh</p>\n      </div>\n    </div>\n    <div class=\"content\">\n      <div class=\"field\">\n        <div class=\"control\">\n          <input\n            [(ngModel)]=\"username\"\n            class=\"input is-primary\"\n            type=\"text\"\n            placeholder=\"Enter Your name\"\n          />\n        </div>\n      </div>\n      <button class=\"button is-normal p-1\" (click)=\"enter()\">Enter</button>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { TwilioService } from '../twilio.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { SocketioService } from '../socketio.service';\n@Component({\n  selector: 'app-room',\n  templateUrl: './room.component.html',\n  styleUrls: ['./room.component.css'],\n})\nexport class RoomComponent implements OnInit {\n  @ViewChild('localVideo', { static: true }) localVideo: ElementRef;\n  @ViewChild('remoteVideo', { static: true }) remoteVideo: ElementRef;\n  message: string;\n  roomName: string;\n  accessToken: string;\n  localname: string;\n  remotename: string;\n  constructor(\n    private twilioService: TwilioService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private socket: SocketioService\n  ) {\n    this.route.queryParams.subscribe((params) => {\n      this.roomName = params['roomName'];\n      this.localname = params['local'];\n      this.remotename = params['remote'];\n    });\n\n    let str = JSON.parse(localStorage.getItem('token'));\n    this.accessToken = str.token;\n    this.twilioService.msgSubject.subscribe((r) => {\n      this.message = r;\n    });\n  }\n\n  ngOnInit(): void {\n    this.twilioService.localVideo = this.localVideo;\n    this.twilioService.remoteVideo = this.remoteVideo;\n    this.twilioService.connectToRoom(this.accessToken, {\n      name: this.roomName,\n      audio: true,\n      video: { width: 240 },\n    });\n  }\n\n  disconnect() {\n    if (this.twilioService.roomObj && this.twilioService.roomObj !== null) {\n      this.twilioService.roomObj.disconnect();\n      this.twilioService.roomObj = null;\n      this.socket.disconnect();\n      this.router.navigateByUrl('enterroom');\n    }\n  }\n}\n","<div id=\"local\" #localVideo>\n  <p>{{localname}}</p>\n</div>\n\n<div id=\"remote\" #remoteVideo>\n  <p>{{remotename}}</p>\n</div>\n<div>\n  <button class=\"button\" (click)='disconnect()'>Disconnect</button>\n</div>\n","import { Injectable, ElementRef } from '@angular/core';\nimport * as io from 'socket.io-client';\nimport { environment } from '../environments/environment';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root',\n})\nexport class SocketioService {\n  socket;\n  onlineUser: ElementRef;\n  constructor() {}\n  setupSocketConnectionn(username: string) {\n    this.socket = io(environment.SOCKET_ENDPOINT);\n    this.socket.on('connect', () => {\n      localStorage.setItem('sessionId', this.socket.id);\n    });\n    this.socket.emit('new-user', username);\n  }\n\n  sendMessage(id, roomName, username) {\n    this.socket.emit('sendMessage', {\n      id: id,\n      roomName: roomName,\n      username: username,\n    });\n  }\n\n  recieveMessage() {\n    return Observable.create((observer) => {\n      this.socket.on('recieveMessage', (message) => {\n        observer.next(message);\n      });\n    });\n  }\n\n  // Simulate clicking on the specified element.\n\n  getUsers() {\n    return Observable.create((observer) => {\n      this.socket.on('new-users', (users) => {\n        observer.next(users);\n      });\n    });\n  }\n\n  roomConnect(userId, name) {\n    this.socket.emit('room-connected', { userId: userId, username: name });\n  }\n\n  joinRoom() {\n    return Observable.create((observer) => {\n      this.socket.on('connectToRoom', (connectRoom) => {\n        observer.next(connectRoom);\n      });\n    });\n  }\n\n  disconnect() {\n    this.socket.emit('disconnect');\n  }\n}\n","import {\n  Injectable,\n  ElementRef,\n  Renderer2,\n  RendererFactory2,\n} from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { connect } from 'twilio-video';\nimport { BehaviorSubject } from 'rxjs';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TwilioService {\n  remoteVideo: ElementRef;\n  localVideo: ElementRef;\n  previewing: boolean;\n  msgSubject = new BehaviorSubject('');\n  roomObj: any;\n  microphone = true;\n  roomParticipants;\n  private renderer: Renderer2;\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private rendererFactory: RendererFactory2\n  ) {\n    this.renderer = rendererFactory.createRenderer(null, null);\n  }\n\n  getToken(username, roomName): Observable<any> {\n    return this.http.get(`/token?identity=${username}&roomName=${roomName}`);\n  }\n\n  mute() {\n    this.roomObj.localParticipant.audioTracks.forEach(function (audioTrack) {\n      audioTrack.track.disable();\n    });\n    this.microphone = false;\n  }\n  unmute() {\n    this.roomObj.localParticipant.audioTracks.forEach(function (audioTrack) {\n      audioTrack.track.enable();\n    });\n    this.microphone = true;\n  }\n  connectToRoom(accessToken: string, options): void {\n    connect(accessToken, options).then(\n      (room) => {\n        this.roomObj = room;\n        if (!this.previewing && options['video']) {\n          this.startLocalVideo();\n          this.previewing = true;\n        }\n        this.roomParticipants = room.participants;\n        room.participants.forEach((participant) => {\n          this.attachParticipantTracks(participant);\n        });\n        room.on('participantDisconnected', (participant) => {\n          this.detachTracks(participant);\n        });\n        room.on('participantConnected', (participant) => {\n          this.roomParticipants = room.participants;\n          this.attachParticipantTracks(participant);\n          participant.on('trackPublished', (track) => {\n            const element = track.attach();\n            this.renderer.data.id = track.sid;\n            this.renderer.setStyle(element, 'height', '100 % ');\n            this.renderer.setStyle(element, 'max - width', '100 % ');\n            this.renderer.appendChild(this.remoteVideo.nativeElement, element);\n          });\n        });\n        // When a Participant adds a Track, attach it to the DOM.\n        room.on('trackPublished', (track, participant) => {\n          this.attachTracks([track]);\n        });\n        // When a Participant removes a Track, detach it from the DOM.\n        room.on('trackRemoved', (track, participant) => {\n          this.detachTracks([track]);\n        });\n        room.once('disconnected', (room) => {\n          room.localParticipant.tracks.forEach((track) => {\n            track.track.stop();\n            const attachedElements = track.track.detach();\n            attachedElements.forEach((element) => element.remove());\n            room.localParticipant.videoTracks.forEach((video) => {\n              const trackConst = [video][0].track;\n              trackConst.stop(); // <- error\n              trackConst.detach().forEach((element) => element.remove());\n              room.localParticipant.unpublishTrack(trackConst);\n            });\n            let element = this.remoteVideo.nativeElement;\n            while (element.firstChild) {\n              element.removeChild(element.firstChild);\n            }\n            let localElement = this.localVideo.nativeElement;\n            while (localElement.firstChild) {\n              localElement.removeChild(localElement.firstChild);\n            }\n            this.router.navigate(['createroom']);\n          });\n        });\n      },\n      (error) => {\n        alert(error.message);\n      }\n    );\n  }\n  attachParticipantTracks(participant): void {\n    participant.tracks.forEach((part) => {\n      this.trackPublished(part);\n    });\n  }\n  trackPublished(publication) {\n    if (publication.isSubscribed) this.attachTracks(publication.track);\n    if (!publication.isSubscribed)\n      publication.on('subscribed', (track) => {\n        this.attachTracks(track);\n      });\n  }\n  attachTracks(tracks) {\n    const element = tracks.attach();\n    this.renderer.data.id = tracks.sid;\n    this.renderer.setStyle(element, 'height', '100 % ');\n    this.renderer.setStyle(element, 'max - width', '100 % ');\n    this.renderer.appendChild(this.remoteVideo.nativeElement, element);\n  }\n  startLocalVideo(): void {\n    this.roomObj.localParticipant.videoTracks.forEach((publication) => {\n      const element = publication.track.attach();\n      this.renderer.data.id = publication.track.sid;\n      this.renderer.setStyle(element, 'width', '25 % ');\n      this.renderer.appendChild(this.localVideo.nativeElement, element);\n    });\n  }\n  detachTracks(tracks): void {\n    tracks.tracks.forEach((track) => {\n      let element = this.remoteVideo.nativeElement;\n      while (element.firstChild) {\n        element.removeChild(element.firstChild);\n      }\n    });\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  SOCKET_ENDPOINT: 'https://video-chat12.herokuapp.com',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","/* (ignored) */"],"sourceRoot":"webpack:///"}